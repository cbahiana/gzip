'use strict';var LIB=Object.create(null);LIB.ready=function(){function l(){switch(document.readyState){case "loading":break;default:for(k=true;b.length>0;)requestAnimationFrame(b.shift());document.removeEventListener("readystatechange",l)}}const b=[];let k="loading"!=document.readyState;return document.addEventListener("readystatechange",l),function(a){if(k){for(;b.length>0;)requestAnimationFrame(b.shift());a()}else b.push(a)}}();
(function(l,b){function k(c){const a=c===true,d=[].slice.call(arguments,1);let h,f,e,b;a===true&&(c=d.shift());for(h=0;h<d.length;h++){f=d[h];for(e in f)switch(typeof(b=f[e])){case "object":c[e]=1==a?k(a,b instanceof Array?[]:{},b):b;break;default:c[e]=b}}return c}function a(c){const p=m.getAllPropertiesName(c);let d,h,f=p.length;for(;f&&f--;){d=p[f];h=Object.getOwnPropertyDescriptor(c,d);c[d]!=b&&"object"==typeof c[d]&&h!=b&&"value"in h&&h.writable&&h.configurable&&(c[d]=k(true,c[d]instanceof Array?
[]:{},a(c[d])))}return c}const m={pause:function(c,a){let d;return function(){const h=this,f=arguments;d&&(clearTimeout(d),d=void 0);d=setTimeout(function(){d=void 0;c.apply(h,f)},a||250)}},throttle:function(c,a){let d;return void 0==a&&(a=250),function(){const h=Date.now();void 0!=d&&h>d+a||(d=h,c.apply(this,arguments))}},implement:function(c){const a=c.prototype,d=[].slice.call(arguments,1);let h,f,e;for(h=0;h<d.length;h++)for(e in d[h])switch(typeof(f=d[h][e])){case "function":a[e]=function(a,
c,h){return function(){const g="previous"in this,e="parent"in this,w=this.previous,d=this.parent;this.previous=c;this.parent=h;const f=a.apply(this,arguments);return g?this.previous=w:delete this.previous,e?this.parent=d:delete this.parent,f}}(f,c[e],a[e]);break;case "object":a[e]=k(true,f instanceof Array?[]:{},f);break;default:a[e]=f}return c},merge:k,reset:a,extendArgs:function(a){return function(c){if("object"==typeof c){const d=[].slice.apply(arguments,1);let h;for(h in c)a.apply(this,[h,c[h]].concat(d))}else a.apply(this,
arguments);return this}},getAllPropertiesName:function(a){const c=[];let d,h,f=a;do{a=Object.getOwnPropertyNames(f);for(h=0;h<a.length;h++){d=a[h];c.indexOf(d)===-1&&c.push(d)}}while(f=Object.getPrototypeOf(f));return c}};l.Utils=m})(LIB);
(function(l,b){const k=l.Utils;b={$events:{},$pseudo:{},on:k.extendArgs(function(a,b,c){if(void 0!=b){a=a.toLowerCase();let d;const h={fn:b,cb:b,name:a,original:a,parsed:[a]};if(a.indexOf(":")!=-1){var m=a.match(/([^:]+):([^(]+)(\(([^)]+)\))?/);void 0==m?h.name=a=a.split(":",1)[0]:(h.original=a,h.name=m[1],h.parsed=m,m[2]in this.$pseudo&&this.$pseudo[m[2]](h))}a in this.$events||(this.$events[a]=[]);for(m=this.$events[a].length;m&&m--;)if(d=this.$events[a][m],d.fn==b&&d.original==a)return;Object.defineProperty(h,
"sticky",{value:!!c});this.$events[a].push(h)}}),off:k.extendArgs(function(a,b,c){let m,d;a=a.toLowerCase().split(":",1)[0];const h=this.$events[a];if(void 0!=h){c=!!c;for(d=h.length;d&&d--;){m=h[d];(void 0!=b||c)&&(m.fn!=b||m.sticky&&m.sticky!=c)||this.$events[a].splice(d,1)}0==h.length&&delete this.$events[a]}}),trigger:function(a){a=a.toLowerCase();if(!(a in this.$events))return this;let b;const c=arguments.length>1?[].slice.call(arguments,1):[],k=this.$events[a].concat();for(b=0;b<k.length;b++)k[b].cb.apply(this,
c);return this},addPseudo:function(a,b){return this.$pseudo[a]=b,this}};b.addPseudo("once",function(a){const b=this;a.cb=function(){a.fn.apply(b,arguments);b.off(a.name,a.fn)}}).addPseudo("pause",function(a){a.cb=k.pause(a.fn,void 0==a.parsed[4]&&250||+a.parsed[4])}).addPseudo("throttle",function(a){a.cb=k.throttle(a.fn,void 0==a.parsed[4]&&250||+a.parsed[4])});l.Event=b})(LIB);
(function(l,b){const k=l.Utils;l.Options={options:{},setOptions:function(a){let b,c,l;if("function"==typeof this.on)for(b in a){c=a[b];"function"!=typeof c||void 0==(l=b.match(/^on(.*)$/))?this.options[b]="object"==typeof c&&void 0!=c?k.merge(true,c instanceof Array?[]:{},c):c:(this.on(l[1],c),delete a[b])}else k.merge(true,this.options,a)}}})(LIB);
(function(l,b){function k(a){const c=this;let d,e;m.reset(c);c.setOptions(a);Object.defineProperties(c,{state:{get:function(){return e},enumerable:true},worker:{get:function(){return d},enumerable:true}});p.register(a.worker).then(function(a){a.installing?(d=a.installing,e="installing"):a.waiting?(d=a.waiting,e="waiting"):a.active&&(d=a.active,e="active");d!=b&&(d.addEventListener("statechange",function(a){c.trigger("statechange",a)}),c.trigger("ready"))}).catch(function(a){e="error";c.trigger("error",
a)})}const a={},m=l.Utils,c="serviceWorker"in navigator,p=navigator.serviceWorker;if(l.SW=a,Object.defineProperties(a,{supported:{get:function(){return c},enumerable:true},serviceworker:{get:function(){return p},enumerable:true},ServiceWorker:{get:function(){return k},enumerable:false}}),!c)return void console.log("service worker not supported.");a.getInstance=function(a){return new k(a)};k.prototype.constructor=k;m.implement(k,{add:function(a){const c=Object.values(a);return c.length>0&&this.trigger("add",
a).postMessage({action:"addFiles",files:c}),this},remove:function(a){const c=Object.values(a);return c.length>0&&this.trigger("remove",a).postMessage({action:"removeFiles",files:c}),this},postMessage:function(a){const c=this,b=new MessageChannel;return b.port1.onmessage=function(a){c.trigger("message",a)},c.worker.postMessage(a,[b.port2]),c},clearCache:function(){return this.postMessage({action:"empty"}),this},removeWorker:function(){const a=this;return a.worker!=b&&a.worker.unregister().then(function(){a.trigger("deleted")}),
a},removeAllWorkers:function(){navigator.serviceWorker.getRegistrations().then(function(a){let c;for(c of a)c.unregister()})}},l.Event,l.Options)})(LIB);
(function(l){"object"==typeof exports&&"undefined"!=typeof module?module.exports=l():"function"==typeof define&&define.amd?define([],l):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).localforage=l()})(function(){return function m(b,k,a){function c(d,f){if(!k[d]){if(!b[d]){var e="function"==typeof require&&require;if(!f&&e)return e(d,true);if(p)return p(d,true);f=Error("Cannot find module '"+d+"'");throw f.code="MODULE_NOT_FOUND",f;}f=k[d]=
{exports:{}};b[d][0].call(f.exports,function(a){var g=b[d][1][a];return c(g?g:a)},f,f.exports,m,b,k,a)}return k[d].exports}for(var p="function"==typeof require&&require,d=0;d<a.length;d++)c(a[d]);return c}({1:[function(b,k,a){(function(a){function c(){m=true;for(var a,c,b=g.length;b;){c=g;g=[];for(a=-1;++a<b;)c[a]();b=g.length}m=false}var b=a.MutationObserver||a.WebKitMutationObserver;if(b){var d=0;b=new b(c);var h=a.document.createTextNode("");b.observe(h,{characterData:true});var f=function(){h.data=
d=++d%2}}else if(a.setImmediate||void 0===a.MessageChannel)f="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var b=a.document.createElement("script");b.onreadystatechange=function(){c();b.onreadystatechange=null;b.parentNode.removeChild(b);b=null};a.document.documentElement.appendChild(b)}:function(){setTimeout(c,0)};else{var e=new a.MessageChannel;e.port1.onmessage=c;f=function(){e.port2.postMessage(0)}}var m,g=[];k.exports=function r(a){1!==g.push(a)||m||f()}}).call(this,
"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(b,k,a){function m(){}function c(a){if("function"!=typeof a)throw new TypeError("resolver must be a function");this.state=r;this.queue=[];this.outcome=void 0;a!==m&&f(this,a)}function p(a,c,b){this.promise=a;"function"==typeof c&&(this.onFulfilled=c,this.callFulfilled=this.otherCallFulfilled);"function"==typeof b&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function d(a,
c,b){z(function(){try{var e=c(b)}catch(x){return g.reject(a,x)}e===a?g.reject(a,new TypeError("Cannot resolve promise with itself")):g.resolve(a,e)})}function h(a){var c=a&&a.then;if(a&&"object"==typeof a&&"function"==typeof c)return function(){c.apply(a,arguments)}}function f(a,c){function b(c){f||(f=true,g.reject(a,c))}function d(c){f||(f=true,g.resolve(a,c))}var f=false,w=e(function E(){c(d,b)});"error"===w.status&&b(w.value)}function e(a,c){var b={};try{b.value=a(c);b.status="success"}catch(D){b.status=
"error";b.value=D}return b}var z=b(1),g={},C=["REJECTED"],q=["FULFILLED"],r=["PENDING"];k.exports=a=c;c.prototype.catch=function(a){return this.then(null,a)};c.prototype.then=function(a,c){if("function"!=typeof a&&this.state===q||"function"!=typeof c&&this.state===C)return this;var b=new this.constructor(m);return this.state!==r?d(b,this.state===q?a:c,this.outcome):this.queue.push(new p(b,a,c)),b};p.prototype.callFulfilled=function(a){g.resolve(this.promise,a)};p.prototype.otherCallFulfilled=function(a){d(this.promise,
this.onFulfilled,a)};p.prototype.callRejected=function(a){g.reject(this.promise,a)};p.prototype.otherCallRejected=function(a){d(this.promise,this.onRejected,a)};g.resolve=function(a,c){var b=e(h,c);if("error"===b.status)return g.reject(a,b.value);if(b=b.value)f(a,b);else{a.state=q;a.outcome=c;b=-1;for(var d=a.queue.length;++b<d;)a.queue[b].callFulfilled(c)}return a};g.reject=function(a,c){a.state=C;a.outcome=c;for(var b=-1,g=a.queue.length;++b<g;)a.queue[b].callRejected(c);return a};a.resolve=function L(a){return a instanceof
this?a:g.resolve(new this(m),a)};a.reject=function D(a){var c=new this(m);return g.reject(c,a)};a.all=function x(a){var c=this;if("[object Array]"!=={}.toString.call(a))return this.reject(new TypeError("must be an array"));var b=a.length,e=false;if(!b)return this.resolve([]);for(var d=Array(b),f=0,h=-1,k=new this(m);++h<b;)(function(a,h){c.resolve(a).then(function P(a){d[h]=a;++f!==b||e||(e=true,g.resolve(k,d))},function(a){e||(e=true,g.reject(k,a))})})(a[h],h);return k};a.race=function M(a){var c=
this;if("[object Array]"!=={}.toString.call(a))return this.reject(new TypeError("must be an array"));var b=a.length,e=false;if(!b)return this.resolve([]);for(var d=-1,f=new this(m);++d<b;)(function(a){c.resolve(a).then(function(a){e||(e=true,g.resolve(f,a))},function(a){e||(e=true,g.reject(f,a))})})(a[d]);return f}},{1:1}],3:[function(b,k,a){k="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};"function"!=typeof k.Promise&&(k.Promise=b(2))},{2:2}],
4:[function(b,k,a){function m(a,c){a=a||[];c=c||{};try{return new Blob(a,c)}catch(Q){if("TypeError"!==Q.name)throw Q;for(var b=new ("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),e=0;e<a.length;e+=1)b.append(a[e]);return b.getBlob(c.type)}}function c(a,c){c&&a.then(function(a){c(null,a)},function(a){c(a)})}function p(a,c,b){"function"==typeof c&&a.then(c);"function"==typeof b&&a.catch(b)}
function d(a){return(new n(function(c){var b=a.transaction(O,F),e=m([""]);b.objectStore(O).put(e,"key");b.onabort=function(a){a.preventDefault();a.stopPropagation();c(false)};b.oncomplete=function(){var a=navigator.userAgent.match(/Chrome\/(\d+)/);c(navigator.userAgent.match(/Edge\//)||!a||parseInt(a[1],10)>=43)}})).catch(function(){return false})}function h(a){return"boolean"==typeof N?n.resolve(N):d(a).then(function(a){return N=a})}function f(a){a=u[a.name];var c={};c.promise=new n(function(a){c.resolve=
a});a.deferredOperations.push(c);a.dbReady?a.dbReady=a.dbReady.then(function(){return c.promise}):a.dbReady=c.promise}function e(a,c){return new n(function(b,e){if(a.db){if(!c)return b(a.db);f(a);a.db.close()}var g=[a.name];c&&g.push(a.version);var d=E.open.apply(E,g);c&&(d.onupgradeneeded=function(c){var b=d.result;try{b.createObjectStore(a.storeName);c.oldVersion>1||b.createObjectStore(O)}catch(R){if("ConstraintError"!==R.name)throw R;console.warn('The database "'+a.name+'" has been upgraded from version '+
c.oldVersion+" to version "+c.newVersion+', but the storage "'+a.storeName+'" already exists.')}});d.onerror=function(a){a.preventDefault();e(d.error)};d.onsuccess=function(){var c=b(d.result);(c=u[a.name].deferredOperations.pop())&&c.resolve()}})}function z(a){return new n(function(c,b){var e=new FileReader;e.onerror=b;e.onloadend=function(b){c({__local_forage_encoded_blob:true,data:btoa(b.target.result||""),type:a.type})};e.readAsBinaryString(a)})}function g(a){for(var c=atob(a.data),b=c.length,
e=new ArrayBuffer(b),d=new Uint8Array(e),g=0;b>g;g++)d[g]=c.charCodeAt(g);return m([e],{type:a.type})}function C(a){var c=this,b=c._initReady().then(function(){var a=u[c._dbInfo.name];if(a&&a.dbReady)return a.dbReady});return p(b,a,a),b}function q(a){f(a);for(var c=u[a.name].forages,b=0;b<c.length;b++)c[b]._dbInfo.db&&(c[b]._dbInfo.db.close(),c[b]._dbInfo.db=null);return e(a,false).then(function(a){for(var b=0;b<c.length;b++)c[b]._dbInfo.db=a}).catch(function(c){var b=u[a.name].deferredOperations.pop();
b&&b.reject(c);throw c;})}function r(a,c,b){try{b(null,a.db.transaction(a.storeName,c))}catch(V){if(!a.db||"InvalidStateError"===V.name)return q(a).then(function(){b(null,a.db.transaction(a.storeName,c))});b(V)}}function w(a){var c=.75*a.length;var b=a.length,e=0;"\x3d"===a[a.length-1]&&(c--,"\x3d"===a[a.length-2]&&c--);var g=new ArrayBuffer(c),d=new Uint8Array(g);for(c=0;b>c;c+=4){var f=v.indexOf(a[c]);var h=v.indexOf(a[c+1]);var k=v.indexOf(a[c+2]);var q=v.indexOf(a[c+3]);d[e++]=f<<2|h>>4;d[e++]=
(15&h)<<4|k>>2;d[e++]=(3&k)<<6|63&q}return g}function K(a){var c=new Uint8Array(a),b="";for(a=0;a<c.length;a+=3){b+=v[c[a]>>2];b+=v[(3&c[a])<<4|c[a+1]>>4];b+=v[(15&c[a+1])<<2|c[a+2]>>6];b+=v[63&c[a+2]]}return c.length%3==2?b=b.substring(0,b.length-1)+"\x3d":c.length%3==1&&(b=b.substring(0,b.length-2)+"\x3d\x3d"),b}function L(a,b,e,g){var d=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a+="");var f=new n(function(c,f){d.ready().then(function(){void 0===b&&(b=null);
var h=b,k=d._dbInfo;k.serializer.serialize(b,function(b,X){X?f(X):k.db.transaction(function(e){e.executeSql("INSERT OR REPLACE INTO "+k.storeName+" (key, value) VALUES (?, ?)",[a,b],function(){c(h)},function(a,c){f(c)})},function(b){if(b.code===b.QUOTA_ERR){if(g>0)return void c(L.apply(d,[a,h,e,g-1]));f(b)}})})}).catch(f)});return c(f,e),f}function D(a,c){a[c]=function(){var b=arguments;return a.ready().then(function(){return a[c].apply(a,b)})}}function x(){for(var a=1;a<arguments.length;a++){var c=
arguments[a];if(c)for(var b in c)c.hasOwnProperty(b)&&(Y(c[b])?arguments[0][b]=c[b].slice():arguments[0][b]=c[b])}return arguments[0]}function M(a){for(var c in t)if(t.hasOwnProperty(c)&&t[c]===a)return true;return false}var ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},E=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=
typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(pa){}}();"undefined"==typeof Promise&&b(3);var N,u,n=Promise,O="local-forage-detect-blob-support",da={}.toString,F="readwrite",ia={_driver:"asyncStorage",_initStorage:function qa(a){function c(){return n.resolve()}var b=this,d={db:null};if(a)for(var g in a)d[g]=a[g];u||(u={});var f=u[d.name];
f||(f={forages:[],db:null,dbReady:null,deferredOperations:[]},u[d.name]=f);f.forages.push(b);b._initReady||(b._initReady=b.ready,b.ready=C);a=[];for(g=0;g<f.forages.length;g++){var h=f.forages[g];h!==b&&a.push(h._initReady().catch(c))}var k=f.forages.slice(0);return n.all(a).then(function(){return d.db=f.db,e(d,false)}).then(function(a){d.db=a;var c=b._defaultConfig.version;if(d.db){var g=!d.db.objectStoreNames.contains(d.storeName),f=d.version>d.db.version;if(d.version<d.db.version&&(d.version!==
c&&console.warn('The database "'+d.name+"\" can't be downgraded from version "+d.db.version+" to version "+d.version+"."),d.version=d.db.version),f||g){if(g){c=d.db.version+1;c>d.version&&(d.version=c)}c=true}else c=false}else c=true;return c?e(d,true):a}).then(function(a){d.db=f.db=a;b._dbInfo=d;for(a=0;a<k.length;a++){var c=k[a];c!==b&&(c._dbInfo.db=d.db,c._dbInfo.version=d.version)}})},iterate:function Q(a,b){var d=this,e=new n(function(c,b){d.ready().then(function(){r(d._dbInfo,"readonly",function(e,
f){if(e)return b(e);try{var h=f.objectStore(d._dbInfo.storeName).openCursor(),k=1;h.onsuccess=function(){var b=h.result;if(b){var d=b.value;d&&d.__local_forage_encoded_blob&&(d=g(d));d=a(d,b.key,k++);void 0!==d?c(d):b.continue()}else c()};h.onerror=function(){b(h.error)}}catch(G){b(G)}})}).catch(b)});return c(e,b),e},getItem:function ra(a,b){var d=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a+="");var e=new n(function(c,b){d.ready().then(function(){r(d._dbInfo,
"readonly",function(e,f){if(e)return b(e);try{var h=f.objectStore(d._dbInfo.storeName).get(a);h.onsuccess=function(){var a=h.result;void 0===a&&(a=null);a&&a.__local_forage_encoded_blob&&(a=g(a));c(a)};h.onerror=function(){b(h.error)}}catch(G){b(G)}})}).catch(b)});return c(e,b),e},setItem:function W(a,b,d){var e=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a+="");var g=new n(function(c,d){var g;e.ready().then(function(){return g=e._dbInfo,"[object Blob]"===da.call(b)?
h(g.db).then(function(a){return a?b:z(b)}):b}).then(function(b){r(e._dbInfo,F,function(g,f){if(g)return d(g);try{var h=f.objectStore(e._dbInfo.storeName).put(b,a);null===b&&(b=void 0);f.oncomplete=function(){void 0===b&&(b=null);c(b)};f.onabort=f.onerror=function(){d(h.error?h.error:h.transaction.error)}}catch(ha){d(ha)}})}).catch(d)});return c(g,d),g},removeItem:function W(a,b){var d=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a+="");var e=new n(function(b,
c){d.ready().then(function(){r(d._dbInfo,F,function(e,g){if(e)return c(e);try{var f=g.objectStore(d._dbInfo.storeName).delete(a);g.oncomplete=function(){b()};g.onerror=function(){c(f.error)};g.onabort=function(){c(f.error?f.error:f.transaction.error)}}catch(H){c(H)}})}).catch(c)});return c(e,b),e},clear:function W(a){var b=this,d=new n(function(a,c){b.ready().then(function(){r(b._dbInfo,F,function(d,e){if(d)return c(d);try{var g=e.objectStore(b._dbInfo.storeName).clear();e.oncomplete=function(){a()};
e.onabort=e.onerror=function(){c(g.error?g.error:g.transaction.error)}}catch(H){c(H)}})}).catch(c)});return c(d,a),d},length:function R(a){var b=this,d=new n(function(a,c){b.ready().then(function(){r(b._dbInfo,"readonly",function(d,e){if(d)return c(d);try{var g=e.objectStore(b._dbInfo.storeName).count();g.onsuccess=function(){a(g.result)};g.onerror=function(){c(g.error)}}catch(I){c(I)}})}).catch(c)});return c(d,a),d},key:function ea(a,b){var d=this,e=new n(function(b,c){if(0>a)return void b(null);
d.ready().then(function(){r(d._dbInfo,"readonly",function(e,g){if(e)return c(e);try{var f=false,h=g.objectStore(d._dbInfo.storeName).openCursor();h.onsuccess=function(){var c=h.result;if(!c)return void b(null);0===a?b(c.key):f?b(c.key):(f=true,c.advance(a))};h.onerror=function(){c(h.error)}}catch(y){c(y)}})}).catch(c)});return c(e,b),e},keys:function ea(a){var b=this,d=new n(function(a,c){b.ready().then(function(){r(b._dbInfo,"readonly",function(d,e){if(d)return c(d);try{var g=e.objectStore(b._dbInfo.storeName).openCursor(),
f=[];g.onsuccess=function(){var c=g.result;if(!c)return void a(f);f.push(c.key);c.continue()};g.onerror=function(){c(g.error)}}catch(y){c(y)}})}).catch(c)});return c(d,a),d}},v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=/^~~local_forage_type~([^~]+)~/,aa={}.toString,S={serialize:function fa(a,c){var b="";if(a&&(b=aa.call(a)),a&&("[object ArrayBuffer]"===b||a.buffer&&"[object ArrayBuffer]"===aa.call(a.buffer))){var d,e="__lfsc__:";a instanceof ArrayBuffer?(d=a,e+="arbf"):
(d=a.buffer,"[object Int8Array]"===b?e+="si08":"[object Uint8Array]"===b?e+="ui08":"[object Uint8ClampedArray]"===b?e+="uic8":"[object Int16Array]"===b?e+="si16":"[object Uint16Array]"===b?e+="ur16":"[object Int32Array]"===b?e+="si32":"[object Uint32Array]"===b?e+="ui32":"[object Float32Array]"===b?e+="fl32":"[object Float64Array]"===b?e+="fl64":c(Error("Failed to get type for BinaryArray")));c(e+K(d))}else if("[object Blob]"===b){b=new FileReader;b.onload=function(){c("__lfsc__:blob"+("~~local_forage_type~"+
a.type+"~")+K(this.result))};b.readAsArrayBuffer(a)}else try{c(JSON.stringify(a))}catch(I){console.error("Couldn't convert value into a JSON string: ",a);c(null,I)}},deserialize:function fa(a){if(a.substring(0,9)!=="__lfsc__:")return JSON.parse(a);var b=a.substring(13);a=a.substring(9,13);if(a==="blob"&&P.test(b)){var c=b.match(P);var d=c[1];b=b.substring(c[0].length)}b=w(b);switch(a){case "arbf":return b;case "blob":return m([b],{type:d});case "si08":return new Int8Array(b);case "ui08":return new Uint8Array(b);
case "uic8":return new Uint8ClampedArray(b);case "si16":return new Int16Array(b);case "ur16":return new Uint16Array(b);case "si32":return new Int32Array(b);case "ui32":return new Uint32Array(b);case "fl32":return new Float32Array(b);case "fl64":return new Float64Array(b);default:throw Error("Unkown type: "+a);}},stringToBuffer:w,bufferToString:K},la={_driver:"webSQLStorage",_initStorage:function G(a){var b=this,c={db:null};if(a)for(var d in a)c[d]="string"!=typeof a[d]?""+a[d]:a[d];a=new n(function(a,
d){try{c.db=openDatabase(c.name,c.version+"",c.description,c.size)}catch(y){return d(y)}c.db.transaction(function(e){e.executeSql("CREATE TABLE IF NOT EXISTS "+c.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){b._dbInfo=c;a()},function(a,b){d(b)})})});return c.serializer=S,a},iterate:function H(a,b){var d=this,e=new n(function(b,c){d.ready().then(function(){var e=d._dbInfo;e.db.transaction(function(d){d.executeSql("SELECT * FROM "+e.storeName,[],function(c,d){c=d.rows;d=c.length;
for(var g=0;d>g;g++){var f=c.item(g),h=f.value;if(h&&(h=e.serializer.deserialize(h)),void 0!==(h=a(h,f.key,g+1)))return void b(h)}b()},function(a,b){c(b)})})}).catch(c)});return c(e,b),e},getItem:function I(a,b){var d=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a+="");var e=new n(function(b,c){d.ready().then(function(){var e=d._dbInfo;e.db.transaction(function(d){d.executeSql("SELECT * FROM "+e.storeName+" WHERE key \x3d ? LIMIT 1",[a],function(a,c){(a=c.rows.length?
c.rows.item(0).value:null)&&(a=e.serializer.deserialize(a));b(a)},function(a,b){c(b)})})}).catch(c)});return c(e,b),e},setItem:function Z(a,b,c){return L.apply(this,[a,b,c,1])},removeItem:function Z(a,b){var d=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a+="");var e=new n(function(b,c){d.ready().then(function(){var e=d._dbInfo;e.db.transaction(function(d){d.executeSql("DELETE FROM "+e.storeName+" WHERE key \x3d ?",[a],function(){b()},function(a,b){c(b)})})}).catch(c)});
return c(e,b),e},clear:function Z(a){var b=this,d=new n(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){b.executeSql("DELETE FROM "+d.storeName,[],function(){a()},function(a,b){c(b)})})}).catch(c)});return c(d,a),d},length:function y(a){var b=this,d=new n(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){b.executeSql("SELECT COUNT(key) as c FROM "+d.storeName,[],function(b,c){a(c.rows.item(0).c)},function(a,b){c(b)})})}).catch(c)});
return c(d,a),d},key:function ja(a,b){var d=this,e=new n(function(b,c){d.ready().then(function(){var e=d._dbInfo;e.db.transaction(function(d){d.executeSql("SELECT key FROM "+e.storeName+" WHERE id \x3d ? LIMIT 1",[a+1],function(a,c){b(c.rows.length?c.rows.item(0).key:null)},function(a,b){c(b)})})}).catch(c)});return c(e,b),e},keys:function ja(a){var b=this,d=new n(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){b.executeSql("SELECT key FROM "+d.storeName,[],function(b,
c){b=[];for(var d=0;d<c.rows.length;d++)b.push(c.rows.item(d).key);a(b)},function(a,b){c(b)})})}).catch(c)});return c(d,a),d}},ma={_driver:"localStorageWrapper",_initStorage:function sa(a){var b={};if(a)for(var c in a)b[c]=a[c];return b.keyPrefix=b.name+"/",b.storeName!==this._defaultConfig.storeName&&(b.keyPrefix=b.keyPrefix+(b.storeName+"/")),this._dbInfo=b,b.serializer=S,n.resolve()},iterate:function ta(a,b){var d=this,e=d.ready().then(function(){for(var b=d._dbInfo,c=b.keyPrefix,e=c.length,g=
localStorage.length,f=1,h=0;g>h;h++){var k=localStorage.key(h);if(0===k.indexOf(c)){var q=localStorage.getItem(k);if(q&&(q=b.serializer.deserialize(q)),void 0!==(q=a(q,k.substring(e),f++)))return q}}});return c(e,b),e},getItem:function ua(a,b){var d=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a+="");var e=d.ready().then(function(){var b=d._dbInfo,c=localStorage.getItem(b.keyPrefix+a);return c&&(c=b.serializer.deserialize(c)),c});return c(e,b),e},setItem:function ba(a,
b,d){var e=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a+="");var g=e.ready().then(function(){void 0===b&&(b=null);var c=b;return new n(function(d,g){var f=e._dbInfo;f.serializer.serialize(b,function(b,e){if(e)g(e);else try{localStorage.setItem(f.keyPrefix+a,b);d(c)}catch(J){"QuotaExceededError"!==J.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==J.name||g(J);g(J)}})})});return c(g,d),g},removeItem:function ba(a,b){var d=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),
a+="");var e=d.ready().then(function(){localStorage.removeItem(d._dbInfo.keyPrefix+a)});return c(e,b),e},clear:function ba(a){var b=this,d=b.ready().then(function(){for(var a=b._dbInfo.keyPrefix,c=localStorage.length-1;c>=0;c--){var d=localStorage.key(c);0===d.indexOf(a)&&localStorage.removeItem(d)}});return c(d,a),d},length:function va(a){var b=this.keys().then(function(a){return a.length});return c(b,a),b},key:function ka(a,b){var d=this,e=d.ready().then(function(){var b=d._dbInfo;try{var c=localStorage.key(a)}catch(ya){c=
null}return c&&(c=c.substring(b.keyPrefix.length)),c});return c(e,b),e},keys:function ka(a){var b=this,d=b.ready().then(function(){for(var a=b._dbInfo,c=localStorage.length,d=[],e=0;c>e;e++)0===localStorage.key(e).indexOf(a.keyPrefix)&&d.push(localStorage.key(e).substring(a.keyPrefix.length));return d});return c(d,a),d}},T={},t={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},U=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],na={description:"",
driver:[t.INDEXEDDB,t.WEBSQL,t.LOCALSTORAGE].slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},A={};b=(A[t.INDEXEDDB]=function(){try{if(!E)return false;var a="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),b="function"==typeof fetch&&(""+fetch).indexOf("[native code")!==-1;return(!a||b)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(xa){return false}}(),
A[t.WEBSQL]="function"==typeof openDatabase);b=t.LOCALSTORAGE;a:{try{var B="undefined"!=typeof localStorage&&"setItem"in localStorage&&localStorage.setItem;break a}catch(wa){B=false;break a}B=void 0}A[b]=B;var Y=Array.isArray||function(a){return"[object Array]"==={}.toString.call(a)};B=new (function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.INDEXEDDB=t.INDEXEDDB;this.LOCALSTORAGE=t.LOCALSTORAGE;this.WEBSQL=t.WEBSQL;this._defaultConfig=x({},
na);this._config=x({},this._defaultConfig,b);this._initDriver=this._driverSet=null;this._ready=false;this._dbInfo=null;this._wrapLibraryMethodsWithReady();this.setDriver(this._config.driver).catch(function(){})}return a.prototype.config=function(a){if("object"===(void 0===a?"undefined":ca(a))){if(this._ready)return Error("Can't call config() after localforage has been used.");for(var b in a){if("storeName"===b&&(a[b]=a[b].replace(/\W/g,"_")),"version"===b&&"number"!=typeof a[b])return Error("Database version must be a number.");
this._config[b]=a[b]}return!("driver"in a&&a.driver)||this.setDriver(this._config.driver)}return"string"==typeof a?this._config[a]:this._config},a.prototype.defineDriver=function(a,b,c){var d=new n(function(b,c){try{var d=a._driver,e=Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),g=Error("Custom driver name already in use: "+a._driver);if(!a._driver)return void c(e);if(M(a._driver))return void c(g);var f=U.concat("_initStorage");for(g=0;g<f.length;g++){var h=
f[g];if(!h||!a[h]||"function"!=typeof a[h])return void c(e)}e=function(c){A[d]=c;T[d]=a;b()};"_support"in a?a._support&&"function"==typeof a._support?a._support().then(e,c):e(!!a._support):e(true)}catch(oa){c(oa)}});return p(d,b,c),d},a.prototype.driver=function(){return this._driver||null},a.prototype.getDriver=function(a,b,c){var d=this,e=n.resolve().then(function(){if(!M(a)){if(T[a])return T[a];throw Error("Driver not found.");}switch(a){case d.INDEXEDDB:return ia;case d.LOCALSTORAGE:return ma;
case d.WEBSQL:return la}});return p(e,b,c),e},a.prototype.getSerializer=function(a){var b=n.resolve(S);return p(b,a),b},a.prototype.ready=function(a){var b=this,c=b._driverSet.then(function(){return null===b._ready&&(b._ready=b._initDriver()),b._ready});return p(c,a,a),c},a.prototype.setDriver=function(a,b,c){function d(){f._config.driver=f.driver()}function e(a){return f._extend(a),d(),f._ready=f._initStorage(f._config),f._ready}function g(a){return function(){function b(){for(;c<a.length;){var g=
a[c];return c++,f._dbInfo=null,f._ready=null,f.getDriver(g).then(e).catch(b)}d();return f._driverSet=n.reject(Error("No available storage method found.")),f._driverSet}var c=0;return b()}}var f=this;Y(a)||(a=[a]);var h=this._getSupportedDrivers(a);return this._driverSet=(null!==this._driverSet?this._driverSet.catch(function(){return n.resolve()}):n.resolve()).then(function(){var a=h[0];return f._dbInfo=null,f._ready=null,f.getDriver(a).then(function(a){f._driver=a._driver;d();f._wrapLibraryMethodsWithReady();
f._initDriver=g(h)})}).catch(function(){d();return f._driverSet=n.reject(Error("No available storage method found.")),f._driverSet}),p(this._driverSet,b,c),this._driverSet},a.prototype.supports=function(a){return!!A[a]},a.prototype._extend=function(a){x(this,a)},a.prototype._getSupportedDrivers=function(a){for(var b=[],c=0,d=a.length;d>c;c++){var e=a[c];this.supports(e)&&b.push(e)}return b},a.prototype._wrapLibraryMethodsWithReady=function(){for(var a=0;a<U.length;a++)D(this,U[a])},a.prototype.createInstance=
function(b){return new a(b)},a}());k.exports=B},{3:3}]},{},[4])(4)});
(function(l,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports,require("localforage")):"function"==typeof define&&define.amd?define(["exports","localforage"],b):b(l.localforageGetItems=l.localforageGetItems||{},l.localforage)})(this,function(l,b){function k(a){return k.result?k.result:a&&"function"==typeof a.getSerializer?(k.result=a.getSerializer(),k.result):Promise.reject(Error("localforage.getSerializer() was not available! localforage v1.4+ is required!"))}function a(a,b){return b&&
a.then(function(a){b(null,a)},function(a){b(a)}),a}function m(b,c){var d=this.getItem(b).then(function(a){return{key:b,value:a}});return a(d,c),d}function c(a){var b=this;return new Promise(function(c,d){for(var e=[],g=0,f=a.length;f>g;g++)e.push(m.call(b,a[g]));Promise.all(e).then(function(a){for(var b={},d=0,e=a.length;e>d;d++){var g=a[d];b[g.key]=g.value}c(b)}).catch(d)})}function p(){var a={};return this.iterate(function(b,c){a[c]=b}).then(function(){return a})}function d(a){function b(a,b){return b>
a?-1:a>b?1:0}var c=this;return new Promise(function(d,e){c.ready().then(function(){var f=c._dbInfo;f=f.db.transaction(f.storeName,"readonly").objectStore(f.storeName);var g=a.sort(b),h=z.bound(a[0],a[a.length-1],false,false),k=f.openCursor(h),l={},m=0;k.onsuccess=function(){var a=k.result;if(!a)return void d(l);for(var b=a.key;b>g[m];)if(++m===g.length)return void d(l);if(b===g[m]){var c=a.value;void 0===c&&(c=null);l[b]=c;a.continue()}else a.continue(g[m])};k.onerror=function(){e(k.error)}}).catch(e)})}
function h(a){var b=this;return new Promise(function(c,d){b.ready().then(function(){return k(b)}).then(function(e){var f=b._dbInfo;f.db.transaction(function(b){for(var g=Array(a.length),h=0,k=a.length;k>h;h++)g[h]="?";b.executeSql("SELECT * FROM "+f.storeName+" WHERE (key IN ("+g.join(",")+"))",a,function(a,b){a={};b=b.rows;for(var d=0,f=b.length;f>d;d++){var g=b.item(d),h=g.value;h&&(h=e.deserialize(h));a[g.key]=h}c(a)},function(a,b){d(b)})})}).catch(d)})}function f(b,e){if(arguments.length&&null!==
b){var f=this.driver();f=f===this.INDEXEDDB?d.apply(this,arguments):f===this.WEBSQL?h.apply(this,arguments):c.apply(this,arguments)}else f=p.apply(this);return a(f,e),f}function e(a){(a=Object.getPrototypeOf(a))&&(a.getItems=f,a.getItems.indexedDB=function(){return d.apply(this,arguments)},a.getItems.websql=function(){return h.apply(this,arguments)},a.getItems.generic=function(){return c.apply(this,arguments)})}b="default"in b?b.default:b;var z="undefined"!=typeof IDBKeyRange?IDBKeyRange:"undefined"!=
typeof webkitIDBKeyRange?webkitIDBKeyRange:"undefined"!=typeof mozIDBKeyRange?mozIDBKeyRange:void 0;b=e(b);l.localforageGetItems=f;l.extendPrototype=e;l.extendPrototypeResult=b;l.getItemsGeneric=c});
(function(l,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports,require("localforage")):"function"==typeof define&&define.amd?define(["exports","localforage"],b):b(l.localforageSetItems=l.localforageSetItems||{},l.localforage)})(this,function(l,b){function k(a){return k.result?k.result:a&&"function"==typeof a.getSerializer?(k.result=a.getSerializer(),k.result):Promise.reject(Error("localforage.getSerializer() was not available! localforage v1.4+ is required!"))}function a(a,b){b&&a.then(function(a){b(null,
a)},function(a){b(a)})}function m(a,b,c,d){function e(a,b){var c=a||b;return a&&"function"==typeof a||"string"!=typeof c||(a=function(a){return a[c]}),a}var f=[];if("[object Array]"==={}.toString.call(a)){b=e(b,"key");c=e(c,"value");for(var g=0,h=a.length;h>g;g++){var k=a[g];f.push(d(b(k),c(k)))}}else for(g in a)a.hasOwnProperty(g)&&f.push(d(g,a[g]));return f}function c(b,c,d,f){var e=this,g=e.ready().then(function(){return new Promise(function(a,f){function g(a){a=a.target||this;h=a.error||a.transaction.error;
f(h)}var h,k=e._dbInfo,l=k.db.transaction(k.storeName,"readwrite"),q=l.objectStore(k.storeName);l.oncomplete=function(){a(b)};l.onabort=l.onerror=function(a){f(h||a.target)};m(b,c,d,function(a,b){null===b&&(b=void 0);q.put(b,a).onerror=g})})});return a(g,f),g}function p(b,c,d,f){var e=this,g=new Promise(function(a,f){e.ready().then(function(){return k(e)}).then(function(g){var h=e._dbInfo;h.db.transaction(function(e){var k="INSERT OR REPLACE INTO "+h.storeName+" (key, value) VALUES (?, ?)",l=m(b,
c,d,function(a,b){return new Promise(function(c,d){g.serialize(b,function(b,f){f?d(f):e.executeSql(k,[a,b],function(){c()},function(a,b){d(b)})})})});Promise.all(l).then(function(){a(b)},f)},function(a){f(a)})}).catch(f)});return a(g,f),g}function d(b,c,d,f){var e=this;b=m(b,c,d,function(a,b){return e.setItem(a,b)});b=Promise.all(b);return a(b,f),b}function h(a,b,f,h){var e=this.driver();return e===this.INDEXEDDB?c.call(this,a,b,f,h):e===this.WEBSQL?p.call(this,a,b,f,h):d.call(this,a,b,f,h)}function f(a){(a=
Object.getPrototypeOf(a))&&(a.setItems=h,a.setItems.indexedDB=function(){return c.apply(this,arguments)},a.setItems.websql=function(){return p.apply(this,arguments)},a.setItems.generic=function(){return d.apply(this,arguments)})}b="default"in b?b.default:b;b=f(b);l.setItemsGeneric=d;l.localforageSetItems=h;l.extendPrototype=f;l.extendPrototypeResult=b});
(function(l,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports,require("localforage")):"function"==typeof define&&define.amd?define(["exports","localforage"],b):b(l.localforageRemoveItems=l.localforageRemoveItems||{},l.localforage)})(this,function(l,b){function k(a,b){return b&&a.then(function(a){b(null,a)},function(a){b(a)}),a}function a(a,b){for(var c=[],d=0,e=a.length;e>d;d++)c.push(this.removeItem(a[d]));a=Promise.all(c);return k(a,b),a}function m(a,b){var c=this,d=c.ready().then(function(){return new Promise(function(b,
d){function e(a){a=a.target||this;f||(f=a.error||a.transaction.error,d(f))}var f,g=c._dbInfo,h=g.db.transaction(g.storeName,"readwrite");g=h.objectStore(g.storeName);h.oncomplete=function(){b()};h.onabort=h.onerror=function(){f||d(h.error||"Unknown error")};for(var k=0,l=a.length;l>k;k++){var m=a[k];"string"!=typeof m&&(console.warn(m+" used as a key, but it is not a string."),m+="");g.delete(m).onerror=e}})});return k(d,b),d}function c(a,b,c){return new Promise(function(d,e){a.executeSql(b,c,function(){d()},
function(a,b){e(b)})})}function p(a,b){var d=this,e=d.ready().then(function(){return new Promise(function(b,e){var f=d._dbInfo;f.db.transaction(function(d){for(var g=f.storeName,h=[],k=0,l=a.length;l>k;k++){var m=a[k];"string"!=typeof m&&(console.warn(m+" used as a key, but it is not a string."),m+="");h.push(c(d,"DELETE FROM "+g+" WHERE key \x3d ?",[m]))}Promise.all(h).then(b,e)},function(a){e(a)})})});return k(e,b),e}function d(){var b=this.driver();return b===this.INDEXEDDB?m.apply(this,arguments):
b===this.WEBSQL?p.apply(this,arguments):a.apply(this,arguments)}function h(b){(b=Object.getPrototypeOf(b))&&(b.removeItems=d,b.removeItems.indexedDB=function(){return m.apply(this,arguments)},b.removeItems.websql=function(){return p.apply(this,arguments)},b.removeItems.generic=function(){return a.apply(this,arguments)})}b="default"in b?b.default:b;b=h(b);l.localforageRemoveItems=d;l.extendPrototype=h;l.extendPrototypeResult=b;l.removeItemsGeneric=a});
