!function(t,e){"use strict";const n=t.Utils.merge;function r(t){let n;const r=t.getAttribute("sizes").replace(/\)\s[^,$]+/g,")").split(","),s=t.dataset.srcset.split(",").map(function(t){return t.split(" ")[0]});if("function"!=typeof window.CustomEvent){function c(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}c.prototype=window.Event.prototype}function i(t,n){try{return new c(t,n)}catch(t){}const r=document.createEvent("CustomEvent");return r.initEvent(t,n&&n.bubbles,n==e||n&&n.cancelable,n&&n.details),r}function o(){let e=0;const c=r.length;for(;c>e;e++)if(matchMedia(r[e]).matches){r[e]!=n&&(n=r[e],t.src=s[e],t.dispatchEvent(i("sourcechange")));break}}return window.addEventListener("resize",o,!1),o(),o}function s(t,n){const s=new Image;if(s.src=t.dataset.src!=e?t.dataset.src:t.src,t.dataset.srcset!=e&&window.matchMedia)if("srcset"in s)t.dataset.srcset!=e&&(s.srcset=t.dataset.srcset);else if(t.dataset.srcset!=e&&(s.dataset.srcset=t.dataset.srcset),t.hasAttribute("sizes")){s.setAttribute("sizes",t.getAttribute("sizes"));const e=r(s);s.addEventListener("load",function(){window.removeEventListener("resize",e,!1),r(t)},!1)}n.trigger("preload",s,t),s.decode!=e?s.decode().then(function(){n.trigger("load",s,t)}).catch(function(e){n.trigger("error",e,s,t)}):(s.onerror=function(e){n.trigger("error",e,s,t)},s.height>0&&s.width>0?n.trigger("load",s,t):s.onload=function(){n.trigger("load",s,t)})}function c(){this.trigger("complete")}t.images=n(Object.create(null),{lazy:function(e,r){const i=[].slice.apply((r&&r.container||document).querySelectorAll(e)),o=n(!0,Object.create(null),t.Event),a=new IntersectionObserver(function(t){let e,n,r=t.length;for(;r--;)(n=t[r]).isIntersecting&&(a.unobserve(n.target),-1!=(e=i.indexOf(n.target))&&i.splice(e,1),0==i.length&&o.on({"load:once":c,"fail:once":c}),s(n.target,o))},r);let l=i.length;for(;l--;)a.observe(i[l]);return o}})}(LIB);
