!function(e,t){"use strict";const n=e.Utils.merge;function r(e){let t;console.log(e);const n=e.getAttribute("sizes").replace(/\)\s[^,$]+/g,")").split(","),r=e.dataset.srcset.split(",").map(function(e){return e.split(" ")[0]});function s(){let s=0,i=n.length;for(;i>s;s++)if(matchMedia(n[s]).matches){n[s]!=t&&(t=n[s],e.src=r[s]);break}}return window.addEventListener("resize",s,!1),s(),s}function s(e,n){const s=new Image;if(e.dataset.srcset==t&&e.dataset.src!=t&&(s.src=e.dataset.src),e.dataset.srcset!=t&&window.matchMedia)if("srcset"in s)s.srcset=e.dataset.srcset;else{s.dataset.srcset=e.dataset.srcset,s.setAttribute("sizes",e.getAttribute("sizes"));const t=r(s);s.addEventListener("load",function(){window.removeEventListener("resize",t,!1),r(e)},!1)}s.decode!=t?s.decode().then(function(){n.trigger("load",s,e)}).catch(function(){n.trigger("error",s)}):(s.onload=function(){n.trigger("load",s,e)},s.onerror=function(){n.trigger("error",s,e)},s.height>0&&s.width>0&&n.trigger("load",s,e))}function i(){this.trigger("complete")}e.images=n(Object.create(null),{lazy:function(t,r){const c=[].slice.apply((r&&r.container||document).querySelectorAll(t)),o=n(!0,Object.create(null),e.Event),a=new IntersectionObserver(function(e){let t,n,r=e.length;for(;r--;)(n=e[r]).isIntersecting&&(a.unobserve(n.target),-1!=(t=c.indexOf(n.target))&&c.splice(t,1),0==c.length&&o.on({"load:once":i,"fail:once":i}),s(n.target,o))},r);let l=c.length;for(;l--;)a.observe(c[l]);return o}})}(LIB);
