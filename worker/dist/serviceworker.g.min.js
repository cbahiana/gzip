'use strict';const d=Object.create(null);self.addEventListener("install",function(a){a.waitUntil(self.skipWaiting())});self.addEventListener("activate",function(a){a.waitUntil(self.clients.claim())});self.addEventListener("fetch",(a)=>{if("GET"===a.request.method){const b=d.a;var c=new URL(a.request.url);if(c.pathname.match(/{scope}\/administrator\//)==void 0){c=(c.pathname.match(/{scope}\/media\/z\/([a-z]{2})\//)||[])[1];b.has(c)||(c="cn");console.log({c:c});a.respondWith(b.get(c).handle(a))}}});
d.a=function(){const a=new Map,c={add:(b,c)=>{return a.set(b,{handle:c})},keys:()=>{return a.keys()},values:()=>{return a.values()},entries:()=>{return a.entries()},get:(b)=>{return a.get(b)},has:(b)=>{return a.has(b)},delete:(b)=>{return a.delete(b)},b:(a)=>{return console.log({response:a,type:a&&a.type,ok:a&&a.ok,bodyUsed:a&&a.bodyUsed}),console.log(Error().stack),a!=void 0&&"basic"==a.type&&a.ok&&!a.bodyUsed}};return c[Symbol.iterator]=()=>{return a[Symbol.iterator]()},Object.defineProperty(c,
"size",{get:()=>{return a.size}}),c}();d.a.add("nf",(a,c)=>{return fetch(a.request).then((b)=>{if(b==void 0)throw Error("Network error");if(d.a.b(b)){const c=b.clone();caches.open("v1").then(function(b){b.put(a.request,c)})}return b}).catch(()=>{return c.match(a.request)})});d.a.add("cf",(a)=>{return caches.match(a.request).then((c)=>{return c!=void 0?c:fetch(a.request).then((b)=>{if(d.a.b(b)){const c=b.clone();caches.open("v1").then(function(b){b.put(a.request,c)})}return b})})});
d.a.add("cn",function(a){return caches.match(a.request).then(function(c){const b=fetch(a.request).then(function(b){if(d.a.b(b)){console.log("cache put "+a.request.url);const c=b.clone();caches.open("v1").then(function(b){b.put(a.request,c)})}else console.log("cannot put "+a.request.url);return b});return c||b})});d.a.add("no",(a)=>{return fetch(a.request)});d.a.add("co",(a)=>{return caches.match(a.request)});
